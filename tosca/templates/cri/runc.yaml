tosca_definitions_version: tosca_simple_yaml_1_3

imports:

- ../../profiles/cri/main.yaml

topology_template:

  inputs:

    component_version:
      type: version

  node_templates:

    runc:
      type: kubetos.nodes.Runc
      properties:
        component_version: { get_input: [ component_version ] }
      interfaces:
        Standard:
          operations:
            create:
              inputs:
                runc_version: { get_property: [ SELF, component_version ] }
              implementation: ansible/runc--create.yaml

  substitution_mappings:
    node_type: kubetos.nodes.OCI.Runtime
    capabilities:
      oci: [ runc, oci ]
    properties:
      component_version: [ component_version ]
    requirements:
      host: [ runc, host ]
